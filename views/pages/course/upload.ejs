<!DOCTYPE html>
<html lang="en">
  <%- include("../../partials/head.ejs") %>
  <body>
    <%- include("../../partials/navbar.ejs") %>
    <div class="upload-container">
      <% if(locals.message) {%>

      <h1><%= locals.message %></h1>

      <% } %>

      <form
        action="/api/v1/course/upload"
        method="post"
        enctype="multipart/form-data"
      >
        <label for="file">File:</label>
        <input type="file" id="file" name="file" required />
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" />
        <label for="course">COURSE:</label>
        <select id="course" name="course" required>
          <% locals.User.schema.path('courses').enumValues.forEach(course => {
          %>
          <option value="<%= course %>"><%= course %></option>
          <% }); %>
        </select>

        <label for="course">TYPE OF UPLOAD:</label>
        <select name="type" id="type">
          <option value="default" disabled selected hidden>
            Choose a Type
          </option>

          <option value="assignment">ASSIGNMENT</option>
          <option value="note">NOTE</option>
          <option value="aoc">AOC</option>
          <option value="practical">PRACTICAL</option>
        </select>
        <label for="description">DESCRIPTION:</label>
        <textarea
          name="description"
          id="description"
          cols="30"
          rows="10"
        ></textarea>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" minlength="3" />
        <button style="grid-column: span 2" type="submit">Share</button>

        <% if (locals.fileLink != null) { %>
        <div>
          Your file is uploaded at
          <a href="<%= locals.fileLink %>"><%= locals.fileLink %></a>
        </div>
        <% } %>
      </form>
    </div>
    <%- include("../../partials/footer.ejs") %>
  </body>
</html>
